<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Secure Checkout | STRIDE</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:'Poppins',sans-serif;background:#0f0f0f;color:#fff}
.navbar{background:#121212;padding:14px 20px}
.logo{font-size:22px;font-weight:700;letter-spacing:2px}
.logo span{color:#ff5722}
.container{max-width:460px;margin:30px auto;padding:0 15px}
.card{background:#1c1c1c;padding:22px;border-radius:14px}
.price{color:#4caf50;margin:8px 0;font-weight:600}
.meta{font-size:13px;color:#aaa}
.qr-box{border:1px dashed #333;padding:16px;border-radius:12px;text-align:center}
.qr-box img{max-width:260px;width:100%}
.upi-buttons{display:flex;gap:10px;margin:12px 0}
.upi-buttons a{flex:1;padding:10px;text-align:center;border-radius:8px;font-size:13px;text-decoration:none;color:#fff;background:#2a2a2a}
input,textarea{width:100%;padding:11px;margin-top:10px;border-radius:8px;border:1px solid #333;background:#111;color:#fff}
button{width:100%;margin-top:15px;padding:13px;background:linear-gradient(135deg,#ff5722,#ff784e);border:none;border-radius:10px;color:#fff;font-size:15px}
.info,.disclaimer{background:#1a1a1a;border-left:4px solid #ff9800;padding:12px;margin-top:16px;font-size:12.5px;border-radius:10px;color:#ccc}
.info{border-color:#4caf50}
.footer{text-align:center;font-size:12px;color:#666;margin:20px 0}
.support{text-align:center;font-size:13px;color:#aaa;margin-top:15px}
.support a{color:#ff5722;text-decoration:none}
</style>
</head>

<body>

<div class="navbar"><div class="logo">STR<span>IDE</span></div></div>

<div class="container">
<div class="card">

<h2 id="title"></h2>
<div class="price" id="price"></div>
<div class="meta">Size: <b id="size"></b> | Quantity: <b id="qty"></b></div>

<div class="qr-box">
  <a id="upiLink"><img id="upiQR"></a>
  <p style="font-size:12px;color:#888">Tap or scan using any UPI app</p>
</div>

<div class="upi-buttons">
  <a id="upiAny">Any UPI</a>
  <a id="upiGpay">GPay</a>
  <a id="upiPhonePe">PhonePe</a>
</div>

<div class="info">Complete the payment and upload a screenshot below.</div>

<form id="orderForm">
  <input name="name" placeholder="Full Name" required>
  <input name="email" type="email" placeholder="Email Address" required>
  <input name="phone" placeholder="Mobile Number" required>
  <textarea name="address" rows="3" placeholder="Complete Address" required></textarea>
  <input type="file" name="screenshot" accept="image/*" required>
  <button type="submit">I Have Paid</button>
</form>

</div>

<div class="disclaimer">• Manual verification • Screenshot required • Ships after approval</div>
<div class="support">Need help? <a href="mailto:naveen.maan2006@gmail.com">naveen.maan2006@gmail.com</a></div>
</div>

<div class="footer">© 2025 STRIDE</div>

<script>
const p=new URLSearchParams(location.search);
const product=p.get("name")||"Product";
const price=p.get("price")||"0";
const qty=p.get("qty")||"1";
const size=p.get("size")||"-";

document.getElementById("title").innerText=product;
document.getElementById("price").innerText="₹"+price;
document.getElementById("qty").innerText=qty;
document.getElementById("size").innerText=size;

const UPI="naveenmaan@ptyes";
const PAYEE="Naveen Maan";
const upi=`upi://pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;

upiQR.src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+encodeURIComponent(upi);
upiLink.href=upi;
upiAny.href=upi;
upiGpay.href=`tez://upi/pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;
upiPhonePe.href=`phonepe://pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;

orderForm.addEventListener("submit",e=>{
  e.preventDefault();

  const fd=new FormData(orderForm);
  fd.append("product",product);
  fd.append("amount",price);
  fd.append("quantity",qty);
  fd.append("size",size);

  fetch("https://script.google.com/macros/s/AKfycbya2zOR2UTJwvbNnx1jO3MZ5kOkgyz6sADGVaj-tJJyiTtWcnvGcMtNPqxUYUayElrz/exec",{
    method:"POST",
    body:fd
  });

  const {jsPDF}=window.jspdf;
  const pdf=new jsPDF();
  pdf.text("STRIDE - Invoice",20,20);
  pdf.text(`Product: ${product}`,20,35);
  pdf.text(`Total: ₹${price}`,20,45);
  pdf.text(`Status: Under Verification`,20,55);
  pdf.save("STRIDE-Invoice.pdf");

  location.href="thank-you.html";
});
</script>

</body>
</html>
