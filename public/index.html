<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Secure Checkout | STRIDE</title>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:#0f0f0f;
  color:#fff;
}

/* NAVBAR */
.navbar{
  background:#121212;
  padding:14px 20px;
  box-shadow:0 2px 10px rgba(0,0,0,0.6);
}
.logo{
  font-size:22px;
  font-weight:700;
  letter-spacing:2px;
}
.logo span{color:#ff5722}

/* CONTAINER */
.container{
  max-width:460px;
  margin:30px auto;
  padding:0 15px;
}

/* CARD */
.card{
  background:#1c1c1c;
  padding:22px;
  border-radius:14px;
  box-shadow:0 8px 24px rgba(0,0,0,0.8);
}
h2{margin:0}
.price{color:#4caf50;margin:8px 0 6px;font-weight:600}
.meta{font-size:13px;color:#aaa;margin-bottom:12px}

/* QR */
.qr-box{
  border:1px dashed #333;
  padding:16px;
  border-radius:12px;
  text-align:center;
}
.qr-box img{max-width:260px;width:100%}

/* UPI BUTTONS */
.upi-buttons{
  display:flex;
  gap:10px;
  margin:12px 0;
}
.upi-buttons a{
  flex:1;
  padding:10px;
  text-align:center;
  border-radius:8px;
  font-size:13px;
  text-decoration:none;
  color:#fff;
  background:#2a2a2a;
}
.upi-buttons a:hover{background:#333}

/* FORM */
input,textarea{
  width:100%;
  padding:11px;
  margin-top:10px;
  border-radius:8px;
  border:1px solid #333;
  background:#111;
  color:#fff;
}
button{
  width:100%;
  margin-top:15px;
  padding:13px;
  background:linear-gradient(135deg,#ff5722,#ff784e);
  border:none;
  border-radius:10px;
  font-size:15px;
  color:#fff;
  cursor:pointer;
}

/* INFO */
.info,.disclaimer{
  background:#1a1a1a;
  border-left:4px solid #ff9800;
  padding:12px;
  margin-top:16px;
  font-size:12.5px;
  border-radius:10px;
  color:#ccc;
}
.info{border-color:#4caf50}

/* FOOTER */
.footer{text-align:center;font-size:12px;color:#666;margin:20px 0}
.support{text-align:center;font-size:13px;color:#aaa;margin-top:15px}
.support a{color:#ff5722;text-decoration:none}
</style>
</head>

<body>

<div class="navbar">
  <div class="logo">STR<span>IDE</span></div>
</div>

<div class="container">

<div class="card">
  <h2 id="title"></h2>
  <div class="price" id="price"></div>
  <div class="meta">
    Size: <b id="size"></b> | Quantity: <b id="qty"></b>
  </div>

  <div class="qr-box">
    <a id="upiLink"><img id="upiQR"></a>
    <p style="font-size:12px;color:#888">Tap or scan using any UPI app</p>
  </div>

  <div class="upi-buttons">
    <a id="upiAny">Any UPI</a>
    <a id="upiGpay">GPay</a>
    <a id="upiPhonePe">PhonePe</a>
  </div>

  <div class="info">
    Complete the payment and upload a screenshot below.
  </div>

  <form id="orderForm">
    <input name="name" placeholder="Full Name" required>
    <input name="email" type="email" placeholder="Email Address" required>
    <input name="phone" placeholder="Mobile Number" required>
    <textarea name="address" rows="3" placeholder="Complete Address" required></textarea>
    <input type="file" accept="image/*" required>
    <button type="submit">I Have Paid</button>
  </form>
</div>

<div class="disclaimer">
  • Manual payment verification  
  • Screenshot required  
  • Order ships after confirmation
</div>

<div class="support">
  Need help? <a href="mailto:naveen.maan2006@gmail.com">naveen.maan2006@gmail.com</a>
</div>

</div>

<div class="footer">© 2025 STRIDE</div>

<script>
/* URL PARAMS */
const p=new URLSearchParams(window.location.search);
const name=p.get("name")||"Product";
const price=p.get("price")||"0";
const qty=p.get("qty")||"1";
const size=p.get("size")||"-";

title.innerText=name;
priceEl= document.getElementById("price");
priceEl.innerText="₹"+price;
qtyEl= document.getElementById("qty");
qtyEl.innerText=qty;
sizeEl= document.getElementById("size");
sizeEl.innerText=size;

/* UPI */
const UPI="946726972@ptyes";
const PAYEE="Naveen Maan";
const upi=`upi://pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;

upiQR.src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+encodeURIComponent(upi);
upiLink.href=upi;
upiAny.href=upi;
upiGpay.href=`tez://upi/pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;
upiPhonePe.href=`phonepe://pay?pa=${UPI}&pn=${encodeURIComponent(PAYEE)}&am=${price}&cu=INR`;

/* SUBMIT */
orderForm.addEventListener("submit",e=>{
  e.preventDefault();

  fetch("https://script.google.com/macros/s/AKfycbx0vCJVjj5xvZzBOZNeGnPCQerLe7lU8QaaggQ_BFwdjo7t_EjadVTb1jFnYvgpyFd4/exec",{
    method:"POST",
    mode:"no-cors",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      name:orderForm.name.value,
      email:orderForm.email.value,
      phone:orderForm.phone.value,
      address:orderForm.address.value,
      product:name,
      amount:price,
      quantity:qty,
      size:size
    })
  });

  /* BEAUTIFUL INVOICE */
  const {jsPDF}=window.jspdf;
  const pdf=new jsPDF();

  pdf.setFillColor(20,20,20);
  pdf.rect(0,0,210,35,"F");
  pdf.setTextColor(255);
  pdf.setFontSize(20);
  pdf.text("STRIDE",14,22);
  pdf.setFontSize(10);
  pdf.text("Order Invoice",160,22);

  pdf.setTextColor(0);
  let y=55;
  pdf.setFontSize(12);
  pdf.text("Customer Details",14,y);
  pdf.line(14,y+2,196,y+2);
  y+=12;
  pdf.text(`Name: ${orderForm.name.value}`,14,y); y+=8;
  pdf.text(`Email: ${orderForm.email.value}`,14,y); y+=8;
  pdf.text(`Phone: ${orderForm.phone.value}`,14,y); y+=8;
  pdf.text(`Address: ${orderForm.address.value}`,14,y);

  y+=14;
  pdf.text("Order Summary",14,y);
  pdf.line(14,y+2,196,y+2);
  y+=12;
  pdf.text(`Product: ${name}`,14,y); y+=8;
  pdf.text(`Size: ${size}`,14,y); y+=8;
  pdf.text(`Quantity: ${qty}`,14,y); y+=8;
  pdf.text(`Total Paid: ₹${price}`,14,y);

  pdf.setFontSize(10);
  pdf.setTextColor(120);
  pdf.text("Status: Under verification",14,275);
  pdf.text("This invoice is system generated.",14,282);

  pdf.save("STRIDE-Invoice.pdf");

  window.location.href="thank-you.html";
});
</script>

</body>
</html>
